# Simple Calendar App â€” è¦æ ¼èªªæ˜æ›¸

## æ¦‚è¦
ç°¡çŸ­èªªæ˜ï¼šéŸ¿æ‡‰å¼å–®é æ—¥æ›†æ‡‰ç”¨ï¼ˆç¹é«”ä¸­æ–‡ï¼‰ï¼Œé è¨­æ—¥æœŸç‚º **2026-01-10ï¼ˆå°ç£æ™‚å€ +08:00ï¼‰**ï¼Œå·¦ä¸Šè§’å…©å€‹åœ–ç¤ºåˆ‡æ›ã€Œé€±è¦–åœ–ï¼ˆ7 å¤©æ ¼ç·šï¼‰ã€èˆ‡ã€Œæœˆè¦–åœ–ï¼ˆè¡¨æ ¼ï¼‰ã€ï¼Œæ”¯æ´æ¡Œé¢èˆ‡è¡Œå‹•è£ç½®ï¼Œä¸¦ä»¥ TDD æµç¨‹é–‹ç™¼ã€‚

---

## ç›®æ¨™èˆ‡éç›®æ¨™ ğŸ¯
- ç›®æ¨™ï¼šæä¾›è¼•é‡ã€æ˜“ç”¨ã€å¯å®‰è£çš„æ—¥æ›† UIï¼Œæ”¯æ´é€±/æœˆè¦–åœ–ã€äº‹ä»¶é¡¯ç¤ºã€æš—é»‘/æ·ºè‰²æ¨¡å¼ã€å°ç£è¾²æ›†èˆ‡ç¯€æ—¥æ¨™è¨˜ã€PWA å®‰è£èˆ‡ GitHub Pages éƒ¨ç½²ã€‚
- éç›®æ¨™ï¼šä¸åšå®Œæ•´çš„å¤šäººå”ä½œæˆ–ä¼ºæœå™¨ç«¯åŒæ­¥ï¼ˆåªæ”¯æ´æœ¬åœ°äº‹ä»¶è³‡æ–™ï¼‰

---

## æ¥å—æº–å‰‡ï¼ˆå¯æ¸¬è©¦ï¼‰âœ…
1. åˆå§‹è¼‰å…¥é¡¯ç¤ºä»Šæ—¥ï¼ˆ2026-01-10ï¼‰ä¸”æ™‚å€ç‚ºå°åŒ—ï¼ˆ+08:00ï¼‰ã€‚
2. å·¦ä¸Šè§’æœ‰å…©å€‹åˆ‡æ›æŒ‰éˆ•ï¼š`é€±è¦–åœ–`ã€`æœˆè¦–åœ–`ï¼Œé»æ“Šæœƒåˆ‡æ›è¦–åœ–ä¸”ä¿ç•™å·²é¸æ—¥æœŸèˆ‡ç„¦é»ã€‚
3. é€±è¦–åœ–é¡¯ç¤ºé€£çºŒ 7 å¤©ï¼ˆç”± `weekStart` è¨­å®šï¼Œé è¨­ Sundayï¼‰ï¼Œæ¯æ—¥ä»¥å°æ™‚ç‚ºç›´å‘æ ¼ç·šæ’åˆ—ï¼Œäº‹ä»¶é¡¯ç¤ºå…¶æ™‚æ®µæˆ–æ¨™è¨˜ç‚ºæ•´æ—¥ã€‚
4. æœˆè¦–åœ–ä»¥æœˆæ›†æ ¼è¡¨å‘ˆç¾ï¼Œå«ä¸Šæœˆ/ä¸‹æœˆçš„ç°è‰²å¡«è£œæ—¥æœŸä¸¦èƒ½æ­£ç¢ºé¡¯ç¤ºäº‹ä»¶æ‘˜è¦ã€‚
5. èƒ½é€é UI å°è¦½åˆ°ä¸Šä¸€/ä¸‹ä¸€ï¼ˆé€±æˆ–æœˆï¼‰ã€å¿«é€Ÿå›åˆ°ä»Šæ—¥ã€‚
6. æ”¯æ´éµç›¤æ“ä½œï¼šTab å°è¦½ã€Enter æ¿€æ´»ã€æ–¹å‘éµåœ¨æ—¥æœŸé–“ç§»å‹•ã€`T` å¿«æ·éµå›åˆ°ä»Šæ—¥ã€`W` / `M` åˆ‡æ›è¦–åœ–ï¼ˆå¯é…ç½®ï¼‰ã€‚
7. æä¾›æš—é»‘/æ·ºè‰²æ¨¡å¼åˆ‡æ›ï¼Œä¸¦å„²å­˜åœ¨ localStorageã€‚
8. æ¨™ç¤ºå°ç£è¾²æ›†èˆ‡ä¸»è¦ç¯€æ—¥ï¼ˆä»¥å…§å»ºè³‡æ–™æª”æˆ–è¼•é‡å¥—ä»¶ï¼‰ä¸”èƒ½æ–¼æœˆè¦–åœ–/é€±è¦–åœ–é¡¯ç¤ºæç¤ºã€‚
9. æ‰€æœ‰é‚è¼¯å–®å…ƒæ¸¬è©¦é€šéï¼Œ**è¦†è“‹ç‡ 100%**ï¼ˆVitestï¼‰ï¼Œä¸¦æœ‰ Playwright E2E æ¸¬è©¦è¦†è“‹æ ¸å¿ƒæµç¨‹ï¼ˆè‡³å°‘åˆ‡æ›è¦–åœ–ã€å°èˆªæ—¥æœŸã€PWA å®‰è£æª¢æŸ¥ï¼‰ã€‚
10. æœ€çµ‚å£“ç¸®å¾Œè³‡ç”¢ç¸½è¨ˆå°æ–¼ **100KB**ï¼ˆä¸å« node_modulesï¼‰ã€‚
11. éƒ¨ç½²åˆ° GitHub Pages ä¸” CIï¼ˆGitHub Actionsï¼‰åŸ·è¡Œ lintã€testã€buildã€deploy æµç¨‹ã€‚

---

## UI èˆ‡äº’å‹•ç´°ç¯€ ğŸ”§
- å·¦ä¸Šï¼šå…©å€‹ icon æŒ‰éˆ•ï¼ˆæœ‰ aria-label èˆ‡ titleï¼‰ã€‚
- ä¸­å¤®å€ï¼š
  - é€±è¦–åœ–ï¼š7 åˆ—å¤©æ¬„ï¼ˆheader é¡¯ç¤ºæ—¥æœŸèˆ‡æ˜ŸæœŸï¼‰ï¼Œæ™‚é–“è»¸ï¼ˆ00:00-23:59ï¼‰ç‚ºç›´å‘åˆ†éš”ï¼Œäº‹ä»¶ä»¥çµ•å°å®šä½å‘ˆç¾åœ¨å°æ‡‰æ™‚æ®µã€‚æ‰‹æ©Ÿä¸Šå¯æ¡æœ€å°åŒ–æ™‚é–“é¡¯ç¤ºï¼ˆåªé¡¯ç¤ºäº‹ä»¶æ¨™é¡Œèˆ‡æ™‚é–“å€é–“ï¼‰ã€‚
  - æœˆè¦–åœ–ï¼šæ¨™æº– 7xN æœˆæ›†æ ¼ï¼Œæ ¼å…§æœ€å¤šé¡¯ç¤º 3 æ¢äº‹ä»¶æ‘˜è¦ï¼Œè¶…éå‰‡é¡¯ç¤º "+N"ã€‚é»æ“Šæ ¼å­å¯æ‰“é–‹ç•¶æ—¥äº‹ä»¶åˆ—è¡¨ã€‚
- éŸ¿æ‡‰å¼ï¼š
  - Desktopï¼šé€±è¦–åœ–æ¡é›™æ¬„ï¼ˆæ™‚é–“ + æ—¥æ¬„ï¼‰ï¼ŒMonth é¡¯ç¤ºå®Œæ•´æ ¼å­ã€‚
  - Mobileï¼šé è¨­ç‚ºå–®æ¬„å‚ç›´æ»¾å‹•ï¼Œé€±è¦–åœ–ä»¥æ©«å‘æ»¾å‹•ç€è¦½æ—¥æ¬„ã€‚
- ç„¡éšœç¤™ï¼šèªæ„åŒ–å…ƒç´ ã€é©ç•¶çš„ aria å±¬æ€§ã€ç„¦é»ç®¡ç†èˆ‡é«˜å°æ¯”ç‹€æ…‹ã€‚

---

## è³‡æ–™æ¨¡å‹èˆ‡æ—¥æœŸè¦å‰‡ ğŸ“…
- äº‹ä»¶ç‰©ä»¶ç¯„ä¾‹ï¼š
```js
{
  id: 'evt_1',
  title: 'æœƒè­°',
  start: '2026-01-10T09:00:00+08:00',
  end: '2026-01-10T10:00:00+08:00',
  allDay: false
}
```
- å„²å­˜æ–¹å¼ï¼šæœ¬åœ° memory æª”ï¼ˆé–‹ç™¼æ™‚ä½¿ç”¨è¨˜æ†¶é«”ï¼Œæœªä¾†å¯ç”¨ localStorageï¼‰ã€‚
- æ—¥æœŸè¨ˆç®—ä½¿ç”¨ `date-fns`ï¼ˆæ˜ç¢ºè™•ç†æ™‚å€èˆ‡æ—¥æ›†é‚Šç•Œï¼‰ã€‚

---

## æŠ€è¡“ç´°ç¯€èˆ‡æª”æ¡ˆçµæ§‹ ğŸ—‚ï¸
- ä¸»è¦æª”æ¡ˆï¼š`index.html`, `style.css`, `script.js`ï¼ˆæ‰€æœ‰éæ¸¬è©¦é‚è¼¯åˆ†æˆæ¨¡çµ„ï¼Œentry ç‚º `script.js`ï¼‰ã€‚
- è³‡æºï¼š`/resource/week_calendar.jpg`, `/resource/month_calendar.jpg`ï¼ˆè¦–è¦ºæ¯”å°ç”¨ï¼‰ã€`/resource/*` æ”¾åœ–ç¤ºèˆ‡å°åœ–ã€‚
- å»ºè­°å·¥å…·èˆ‡è¨­å®šï¼š
  - ESLintï¼ˆairbnb-base æˆ–æ¨™æº–é¢¨æ ¼ï¼‰ã€Prettierï¼ˆå¯é¸ï¼‰
  - Vitestï¼ˆå« coverageï¼‰
  - Playwrightï¼ˆE2Eï¼‰
  - GitHub Actionsï¼š`lint` â†’ `test` â†’ `build` â†’ `deploy`ï¼ˆgh-pagesï¼‰
  - PWAï¼š`manifest.json` èˆ‡ `service-worker.js`ï¼ˆåŸºæœ¬è³‡ç”¢å¿«å–èˆ‡ offline fallbackï¼‰

---

## æ¸¬è©¦è¨ˆç•«ï¼ˆTDDï¼‰ğŸ§ª
### å–®å…ƒæ¸¬è©¦ï¼ˆVitestï¼‰ç¯„ä¾‹ï¼ˆå„ªå…ˆï¼‰
- `date-utils.spec.js`ï¼š
  - æ¸¬è©¦ `startOfWeek(date, weekStart)` èˆ‡ `endOfWeek(...)` çš„å›å‚³æ—¥æœŸæ•¸å€¼ã€‚
  - æ¸¬è©¦ `isSameDay`ã€`isInRange`ã€‚ 
- `view-state.spec.js`ï¼š
  - åˆ‡æ›è¦–åœ–ä¿æŒé¸ä¸­æ—¥æœŸèˆ‡ç„¦é»ç‹€æ…‹ã€‚
- `events.spec.js`ï¼š
  - äº‹ä»¶åœ¨é€± / æœˆè¦–åœ–çš„åˆ†é…èˆ‡æ¸²æŸ“åº§æ¨™ï¼ˆé‚Šç•Œã€æ•´æ—¥äº‹ä»¶ï¼‰ã€‚

ç¯„ä¾‹æ¸¬è©¦ï¼ˆVitestï¼‰ç°¡çŸ­ç‰‡æ®µï¼š
```js
import { startOfWeek } from './date-utils'
import { expect, it } from 'vitest'

it('returns Sunday as week start by default', () => {
  const d = new Date('2026-01-10')
  expect(startOfWeek(d)).toEqual(new Date('2026-01-04'))
})
```

### E2Eï¼ˆPlaywrightï¼‰é‡è¦å ´æ™¯ï¼š
- é é¢è¼‰å…¥ â†’ é©—è­‰ä»Šæ—¥é«˜äº®ï¼ˆ2026-01-10ï¼‰
- é»æ“Šé€±/æœˆåˆ‡æ›åœ–ç¤º â†’ é©—è­‰ DOM èˆ‡å¯è¦‹å…ƒç´ 
- å°èˆªï¼ˆä¸Šä¸€/ä¸‹ä¸€é€±æˆ–æœˆï¼‰â†’ é©—è­‰æ—¥æœŸå€é–“èˆ‡äº‹ä»¶é¡¯ç¤º
- ç¢ºèªæš—é»‘/æ·ºè‰²åˆ‡æ›å­˜æ–¼ localStorage ä¸¦æŒä¹…åŒ–
- PWAï¼šæª¢æŸ¥ manifest èˆ‡ service worker è¨»å†Šï¼ˆå¯ mockï¼‰

---

## CI / éƒ¨ç½²æµç¨‹ï¼ˆGitHub Actionsï¼‰ğŸš€
- Job æµç¨‹ï¼š
  1. checkout
  2. node setup
  3. install
  4. lint
  5. test (Vitest + coverage) â†’ fail if coverage < 100%
  6. e2e (Playwright) on main branch or on PR label
  7. build (minify + size check)
  8. deploy to `gh-pages` (only on `main`)

---

## å»ºæ§‹èˆ‡å¤§å°é™åˆ¶ ğŸ“¦
- ä½¿ç”¨ç°¡å–®çš„ rollup æˆ– esbuild æ‰“åŒ…èˆ‡ minifyã€‚è¨­å®šæª¢æŸ¥æ­¥é©Ÿï¼š`bundle size < 100KB`ï¼ˆgzipped æª¢æŸ¥æˆ–ç´”æª”æ¡ˆå¤§å°ï¼Œéœ€åœ¨ README è¨»æ˜å¦‚ä½•è¨ˆç®—ï¼‰ã€‚

---

## é–‹ç™¼å·¥ä½œæµèˆ‡ Commit è¦ç¯„ ğŸ§­
- æ¡ TDDï¼šå¯«æ¸¬è©¦ï¼ˆVitestï¼‰â†’ å¯¦ä½œ â†’ é‡æ§‹ã€‚
- Commit messageï¼š`feat: ` / `fix: ` / `test: ` / `chore: `ã€‚
- PR è¦åŒ…å«ï¼šæ¸¬è©¦ã€è®Šæ›´èªªæ˜ã€è¦–è¦ºå·®ç•°ï¼ˆè‹¥æœ‰ UI æ”¹å‹•å‰‡é™„æˆªåœ–ï¼‰ã€‚

---

## åˆå§‹é–‹ç™¼ä»»å‹™ï¼ˆå„ªå…ˆé †åºï¼‰
1. å»ºç«‹éª¨æ¶ï¼š`index.html`ã€`style.css`ã€`script.js`ï¼ˆå« header åˆ‡æ›æŒ‰éˆ•ã€week/month å€å¡Šï¼‰ã€‚
2. å¯«ç¬¬ä¸€å€‹å–®å…ƒæ¸¬è©¦ï¼š`date-utils.spec.js`ï¼ˆæ¸¬ `startOfWeek` / `endOfWeek` / `format`ï¼‰ã€‚
3. å¯¦ä½œæ—¥æœŸå·¥å…·èˆ‡åŸºæœ¬æ¸²æŸ“ï¼ˆå…ˆåšé€±è¦–åœ–åˆ‡æ›ï¼‰ã€‚
4. åŠ å…¥ ESLintã€Vitest configã€Playwright configã€‚
5. åŠ å…¥ PWA manifest + service worker stubã€‚
6. CI workflow ç¯„ä¾‹ã€‚

---

## å‚™è¨»
- åƒ…ä½¿ç”¨ `date-fns` ä½œç‚ºå¤–éƒ¨ä¾è³´ï¼›è¾²æ›†è³‡æ–™å¯ç”¨è¼•é‡ JSON æª”æˆ–æˆæ¬Šå¥—ä»¶ï¼Œä¸¦åœ¨ README æ¨™æ˜ä¾†æºã€‚
- è¦–è¦ºæº–ç¢ºåº¦è«‹ä»¥ `./resource/week_calendar.jpg` èˆ‡ `./resource/month_calendar.jpg` ç‚ºåƒè€ƒæº–å‰‡ã€‚

---

å¦‚éœ€æˆ‘æŠŠé€™äº›è¦æ ¼è½‰æˆå…·é«” issue / todo æˆ–ç›´æ¥é–‹å§‹å»ºç«‹éª¨æ¶èˆ‡ç¬¬ä¸€æ³¢æ¸¬è©¦ï¼Œæˆ‘å¯ä»¥ç«‹åˆ»é–‹å§‹ã€‚